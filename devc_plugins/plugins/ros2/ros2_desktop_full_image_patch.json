{
    "pre-defined-extensions": {
        "image" : "osrf/ros:${ROS_DISTRO}-desktop-full",
        "pre_package_install" : [""],
        "additional_apt_packages" : ["build-essential", "cmake", "gdb", "net-tools", "python3", "python3-pip", "python3-venv", "ros-dev-tools", "software-properties-common"],
        "post_package_install" : [
          "# Make python and pip globally available if missing",
          "RUN [ ! -e /usr/bin/python ] && ln -s /usr/bin/python3 /usr/bin/python || true &&  \\",
          "\t[ ! -e /usr/bin/pip ] && ln -s /usr/bin/pip3 /usr/bin/pip || true",
          "# Initialize rosdep",
          "RUN rosdep init || true"
        ],
        "additional_sudo_commands" : [""],
        "additional_user_commands" : [
          "# Source ROS environment automatically",
          "RUN echo \"source /opt/ros/${ROS_DISTRO}/setup.bash\" >> /home/$USER/.bashrc",
          "RUN rosdep update || true"
        ]
    }
}
